import{W as C}from"./style-Bat5Xyzz.js";import{i as h,u as A,j as y,o as M,r as s,c as V,a as e,k as $,t as m,l as F,g as l,f as N,F as j,b as B}from"./index-DpeE4wFZ.js";const D={class:"flex items-center justify-between mb-5"},O={class:"text-3xl"},T={class:"flex gap-4"},W=["onClick"],q=["onClick"],G={__name:"MovementView",props:{id:{type:[String,null],required:!1,default:null}},setup(p){const a=h(),v=A().getSettings,g=y(()=>a.getAllEntities);M(()=>{k(),r.id!==null&&f(r.id)});const r=p,u=s(null),c=s(!1),o=s(!0),d=s(""),b=s(""),_=s(""),E=s([{field:"name",title:"Nome"},{field:"email",title:"E-Mail"},{field:"type_tag",title:"Tipo"},{field:"document",title:"Documento"},{field:"status",title:"Ativo"},{field:"actions",title:"Actions"}])||[];function f(t){b.value=t,_.value=entity.getEntity(t),c.value=!0,d.value="show"}function w(){c.value=!0,d.value="create"}function k(){o.value=!0;const t=y(()=>Object.entries(g).map(([n,i])=>({id:n,...i})));u.value=t.value.entity,o.value=!1}async function x(t){try{await api.delete(`${route}/${t}`),a.removeEntity(t)}catch{alert("Falha na tentativa de deletar")}}return(t,n)=>(B(),V(j,null,[n[2]||(n[2]=e("p",null,"Hello from Entity",-1)),e("div",null,[e("div",D,[e("h2",O,m(t.setting.entity_title),1),e("button",{class:"btn btn-outline-secondary d-grid gap-2",onClick:n[0]||(n[0]=i=>w())},[n[1]||(n[1]=e("span",null,"âž•",-1)),F(" Adicionar nov(a) "+m(l(v).entity_title),1)])]),$(l(C),{rows:u.value,columns:l(E),loading:o.value,sortable:!0,columnFilter:!0},{actions:N(i=>[e("div",T,[e("button",{type:"button",class:"btn btn-success !py-1",onClick:S=>f(i.id)}," Ver Mais! ",8,W),e("button",{type:"button",class:"btn btn-danger !py-1",onClick:S=>x(i.id)}," Excluir ",8,q)])]),_:1},8,["rows","columns","loading"])])],64))}};export{G as default};
