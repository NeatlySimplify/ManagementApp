import{m as C,d as y,e as A,b as S,f as T,a as i,g,h as k,i as U,u as V,j as q,r as s,o as D,c as N,k as h,t as _,l as j,n as F}from"./index-DpeE4wFZ.js";import{W as R}from"./style-Bat5Xyzz.js";const W={class:"flex gap-4"},O=["onClick"],z=["onClick"],G={__name:"TableComponent",props:{rows:{},rowsModifiers:{},cols:{},colsModifiers:{},loading:{},loadingModifiers:{},route:{},routeModifiers:{}},emits:C("delete_",["update:rows","update:cols","update:loading","update:route"]),setup(a,{emit:u}){const E=y(a,"rows"),c=y(a,"cols"),m=y(a,"loading"),r=y(a,"route"),n=u;function d(o){n("delete_",o)}function f(o){k().push(`${r.value}/${o}`)}return(o,p)=>(S(),A(g(R),{rows:E.value,columns:c.value,loading:m.value,sortable:!0,columnFilter:!0},{actions:T(v=>[i("div",W,[i("button",{type:"button",class:"btn btn-success !py-1",onClick:b=>f(v.id)}," Ver Mais! ",8,O),i("button",{type:"button",class:"btn btn-danger !py-1",onClick:b=>d(v.id)}," Excluir ",8,z)])]),_:1},8,["rows","columns","loading"]))}},H={class:"flex items-center justify-between mb-5"},I={class:"text-3xl"},L={__name:"EntityView",props:{id:{type:[String,null],required:!1,default:null},back:{type:Boolean,required:!1,default:!1},filter:{type:[String,null],required:!1,default:null},term:{type:[Boolean,String,null],required:!1,default:null}},setup(a){k();const u=U(),c=V().getSettings,m=q(()=>u.getAllEntities),r=s("/entity");D(()=>{$(),n.id!==null&&x(n.id)});const n=a,d=s(null),f=s(!1),o=s(!0),p=s(""),v=s(""),b=s(""),w=s([{field:"name",title:"Nome"},{field:"email",title:"E-Mail"},{field:"type_tag",title:"Tipo"},{field:"document",title:"Documento"},{field:"status",title:"Ativo"},{field:"actions",title:"Actions"}])||[];function x(t){b.value=t,v.value=entity.getEntity(t),f.value=!0,p.value="show"}function M(){f.value=!0,p.value="create"}function $(){o.value=!0;let t=null;n.filter=="status"?t=u.getEntitiesByStatus(n.term):n.filter==="type_tag"?t=u.getEntitiesByType(n.term):t=m.value,d.value=t.value.entity,o.value=!1}async function B(t){try{await api.delete(`${r.value}/${t}`),u.removeEntity(t)}catch{alert("Falha na tentativa de deletar")}}return(t,e)=>(S(),N("div",null,[i("div",H,[i("h2",I,_(g(c).entity_title),1),i("button",{class:"btn btn-outline-secondary d-grid gap-2",onClick:e[0]||(e[0]=l=>M())},[e[5]||(e[5]=i("span",null,"âž•",-1)),j(" Adicionar novo(a) "+_(g(c).entity_title),1)])]),h(G,{rows:d.value,"onUpdate:rows":e[1]||(e[1]=l=>d.value=l),cols:g(w),"onUpdate:cols":e[2]||(e[2]=l=>F(w)?w.value=l:null),loading:o.value,"onUpdate:loading":e[3]||(e[3]=l=>o.value=l),route:r.value,"onUpdate:route":e[4]||(e[4]=l=>r.value=l),onDelete_:B},null,8,["rows","cols","loading","route"])]))}};export{L as default};
