import{J as se,K as J,b as s,e as r,l as u,p as w,A as z,D as ce,F as B,C as P,B as ue,M as _e,O as Le,d as de,P as Ge,r as M,o as xe,c as Y,w as T,z as F,Q as p,f as E,E as X,R as je,g as Se,m as qe,S as Me,U as Ke,V as Je,W as Ze,G as Qe,q as Ye,I as Xe}from"./index-BLc5R7KL.js";const el={class:"mb-3 row"},ll={for:"select",class:"col-sm-2 col-form-label"},tl={class:"col-sm-10"},ol=["required"],al=["value"],pt={__name:"FormSelectComponent",props:se({title:String,isReadOnly:Boolean,types:Array,required:{type:Boolean,required:!1,default:!1}},{placeholder:{},placeholderModifiers:{}}),emits:["update:placeholder"],setup(k){const C=k,a=J(k,"placeholder");return(f,m)=>(r(),s("div",el,[u("label",ll,w(C.title),1),u("div",tl,[C.isReadOnly?z((r(),s("input",{key:1,type:"text",readonly:"","onUpdate:modelValue":m[1]||(m[1]=b=>a.value=b),class:"form-control-plaintext",id:"select"},null,512)),[[ue,a.value]]):z((r(),s("select",{key:0,"onUpdate:modelValue":m[0]||(m[0]=b=>a.value=b),required:k.required},[m[2]||(m[2]=u("option",{selected:""},null,-1)),(r(!0),s(B,null,P(C.types,(b,e)=>(r(),s("option",{key:e,value:b},w(b),9,al))),128))],8,ol)),[[ce,a.value]])])]))}},nl={class:"form-label"},ul={class:"btn-group",role:"group"},ft={__name:"FormRadioComponent",props:se({title:String,isReadOnly:{type:Boolean,required:!1}},{placeholder:{type:Boolean,default:!1},placeholderModifiers:{}}),emits:["update:placeholder"],setup(k){const C=k,a=J(k,"placeholder");return(f,m)=>(r(),s(B,null,[u("p",nl,w(C.title),1),u("div",ul,[z(u("input",{type:"radio",class:"btn-check",name:"btnradio",id:"btnradio1",value:"true","onUpdate:modelValue":m[0]||(m[0]=b=>a.value=b),autocomplete:"off"},null,512),[[_e,a.value]]),m[2]||(m[2]=u("label",{class:"btn btn-outline-primary",for:"btnradio1"},"Efetivo",-1)),z(u("input",{type:"radio",class:"btn-check",name:"btnradio",id:"btnradio2",value:"false",autocomplete:"off","onUpdate:modelValue":m[1]||(m[1]=b=>a.value=b)},null,512),[[_e,a.value]]),m[3]||(m[3]=u("label",{class:"btn btn-outline-secondary",for:"btnradio2"},"Não Efetivado",-1))])],64))}},il={class:"modal d-block show",tabindex:"-1"},rl={class:"modal-dialog modal-dialog-scrollable modal-lg"},sl={class:"modal-content"},cl={class:"modal-header"},dl={class:"modal-title"},vl={class:"modal-body"},mt={__name:"BareModal",props:{title:{type:String,default:""}},emits:["close"],setup(k){return(C,a)=>(r(),s("div",il,[u("div",rl,[u("div",sl,[u("div",cl,[u("h5",dl,w(k.title),1),u("button",{type:"button",class:"btn btn-outline-danger",onClick:a[0]||(a[0]=f=>C.$emit("close"))},a[1]||(a[1]=[u("span",null,"❌",-1)]))]),u("div",vl,[Le(C.$slots,"default")])])])]))}},hl={class:"bh-filter-menu bh-absolute bh-z-[1] bh-bg-white bh-shadow-md bh-rounded-md bh-top-full bh-right-0 bh-w-32 bh-mt-1"},pl=de({__name:"column-filter",props:["column","columnFilterLang"],emits:["close","filterChange"],setup(k,{emit:C}){const a=k;Je(()=>{document.removeEventListener("click",m)}),xe(()=>{document.addEventListener("click",m)});const f=C,m=()=>{f("close")},b=e=>{a.column.condition=e,e===""&&(a.column.value=""),f("filterChange",a.column)};return(e,n)=>{var v,h,I,S,W,N,ee,q,x,G,D,R,le,V,Z,H,te,A,oe;return r(),s("div",hl,[u("div",{class:"bh-text-[13px] bh-font-normal bh-rounded bh-overflow-hidden",onClick:X(m,["stop"])},[u("button",{type:"button",class:p({active:a.column.condition===""}),onClick:n[0]||(n[0]=g=>b(""))},w((v=a.columnFilterLang&&a.columnFilterLang.no_filter)!=null?v:"No filter"),3),a.column.type==="string"?(r(),s(B,{key:0},[u("button",{type:"button",class:p({active:a.column.condition==="contain"}),onClick:n[1]||(n[1]=g=>b("contain"))},w((h=a.columnFilterLang&&a.columnFilterLang.contain)!=null?h:"Contain"),3),u("button",{type:"button",class:p({active:a.column.condition==="not_contain"}),onClick:n[2]||(n[2]=g=>b("not_contain"))},w((I=a.columnFilterLang&&a.columnFilterLang.not_contain)!=null?I:"Not contain"),3),u("button",{type:"button",class:p({active:a.column.condition==="equal"}),onClick:n[3]||(n[3]=g=>b("equal"))},w((S=a.columnFilterLang&&a.columnFilterLang.equal)!=null?S:"Equal"),3),u("button",{type:"button",class:p({active:a.column.condition==="not_equal"}),onClick:n[4]||(n[4]=g=>b("not_equal"))},w((W=a.columnFilterLang&&a.columnFilterLang.not_equal)!=null?W:"Not equal"),3),u("button",{type:"button",class:p({active:a.column.condition==="start_with"}),onClick:n[5]||(n[5]=g=>b("start_with"))},w((N=a.columnFilterLang&&a.columnFilterLang.start_with)!=null?N:"Starts with"),3),u("button",{type:"button",class:p({active:a.column.condition==="end_with"}),onClick:n[6]||(n[6]=g=>b("end_with"))},w((ee=a.columnFilterLang&&a.columnFilterLang.end_with)!=null?ee:"Ends with"),3)],64)):a.column.type==="number"?(r(),s(B,{key:1},[u("button",{type:"button",class:p({active:a.column.condition==="equal"}),onClick:n[7]||(n[7]=g=>b("equal"))},w((q=a.columnFilterLang&&a.columnFilterLang.equal)!=null?q:"Equal"),3),u("button",{type:"button",class:p({active:a.column.condition==="not_equal"}),onClick:n[8]||(n[8]=g=>b("not_equal"))},w((x=a.columnFilterLang&&a.columnFilterLang.not_equal)!=null?x:"Not equal"),3),u("button",{type:"button",class:p({active:a.column.condition==="greater_than"}),onClick:n[9]||(n[9]=g=>b("greater_than"))},w((G=a.columnFilterLang&&a.columnFilterLang.greater_than)!=null?G:"Greater than"),3),u("button",{type:"button",class:p({active:a.column.condition==="greater_than_equal"}),onClick:n[10]||(n[10]=g=>b("greater_than_equal"))},w((D=a.columnFilterLang&&a.columnFilterLang.greater_than_equal)!=null?D:"Greater than or equal"),3),u("button",{type:"button",class:p({active:a.column.condition==="less_than"}),onClick:n[11]||(n[11]=g=>b("less_than"))},w((R=a.columnFilterLang&&a.columnFilterLang.less_than)!=null?R:"Less than"),3),u("button",{type:"button",class:p({active:a.column.condition==="less_than_equal"}),onClick:n[12]||(n[12]=g=>b("less_than_equal"))},w((le=a.columnFilterLang&&a.columnFilterLang.less_than_equal)!=null?le:"Less than or equal"),3)],64)):a.column.type==="date"?(r(),s(B,{key:2},[u("button",{type:"button",class:p({active:a.column.condition==="equal"}),onClick:n[13]||(n[13]=g=>b("equal"))},w((V=a.columnFilterLang&&a.columnFilterLang.equal)!=null?V:"Equal"),3),u("button",{type:"button",class:p({active:a.column.condition==="not_equal"}),onClick:n[14]||(n[14]=g=>b("not_equal"))},w((Z=a.columnFilterLang&&a.columnFilterLang.not_equal)!=null?Z:"Not equal"),3),u("button",{type:"button",class:p({active:a.column.condition==="greater_than"}),onClick:n[15]||(n[15]=g=>b("greater_than"))},w((H=a.columnFilterLang&&a.columnFilterLang.greater_than)!=null?H:"Greater than"),3),u("button",{type:"button",class:p({active:a.column.condition==="less_than"}),onClick:n[16]||(n[16]=g=>b("less_than"))},w((te=a.columnFilterLang&&a.columnFilterLang.less_than)!=null?te:"Less than"),3)],64)):F("",!0),u("button",{type:"button",class:p({active:a.column.condition==="is_null"}),onClick:n[17]||(n[17]=g=>b("is_null"))},w((A=a.columnFilterLang&&a.columnFilterLang.is_null)!=null?A:"Is null"),3),u("button",{type:"button",class:p({active:a.column.condition==="is_not_null"}),onClick:n[18]||(n[18]=g=>b("is_not_null"))},w((oe=a.columnFilterLang&&a.columnFilterLang.is_not_null)!=null?oe:"Not null"),3)])])}}}),ie=(k,C)=>{const a=k.__vccOpts||k;for(const[f,m]of C)a[f]=m;return a},fl={},ml={version:"1.1",viewBox:"0 0 17 12",xmlns:"http://www.w3.org/2000/svg"};function bl(k,C){return r(),s("svg",ml,C[0]||(C[0]=[u("g",{fill:"none","fill-rule":"evenodd"},[u("g",{transform:"translate(-9 -11)",fill:"currentColor","fill-rule":"nonzero"},[u("path",{d:"m25.576 11.414c0.56558 0.55188 0.56558 1.4439 0 1.9961l-9.404 9.176c-0.28213 0.27529-0.65247 0.41385-1.0228 0.41385-0.37034 0-0.74068-0.13855-1.0228-0.41385l-4.7019-4.588c-0.56584-0.55188-0.56584-1.4442 0-1.9961 0.56558-0.55214 1.4798-0.55214 2.0456 0l3.679 3.5899 8.3812-8.1779c0.56558-0.55214 1.4798-0.55214 2.0456 0z"})])],-1)]))}const Be=ie(fl,[["render",bl]]),gl={},yl={viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"3",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"css-i6dzq1"};function kl(k,C){return r(),s("svg",yl,C[0]||(C[0]=[u("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1)]))}const Cl=ie(gl,[["render",kl]]),wl={},_l={viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"1.5",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"css-i6dzq1"};function Fl(k,C){return r(),s("svg",_l,C[0]||(C[0]=[u("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},null,-1)]))}const Ll=ie(wl,[["render",Fl]]),xl={key:"hdrrow"},Sl={class:"bh-checkbox"},ql=["onClick"],Ml={width:"16",height:"16",viewBox:"0 0 14 14",fill:"none"},Bl={key:0,class:"bh-filter bh-relative"},Al=["onUpdate:modelValue"],zl=["onUpdate:modelValue"],Nl=["onUpdate:modelValue"],Dl=["onUpdate:modelValue"],Rl=["onClick"],Fe=de({__name:"column-header",props:["all","currentSortColumn","currentSortDirection","isOpenFilter","isFooter","checkAll","columnFilterLang"],emits:["selectAll","sortChange","filterChange","toggleFilterMenu"],setup(k,{emit:C}){const a=M(null),f=k,m=C;return T(()=>f.checkAll,()=>{a.value&&(a.value.indeterminate=f.checkAll!==0?!f.checkAll:!1,a.value.checked=f.checkAll)}),(b,e)=>(r(),s("tr",xl,[f.all.hasCheckbox?(r(),s("th",{key:"chkall",class:p(["bh-w-px",{"bh-sticky bh-bg-blue-light bh-z-[1]":f.all.stickyHeader||f.all.stickyFirstColumn,"bh-top-0":f.all.stickyHeader,"bh-left-0":f.all.stickyFirstColumn}])},[u("div",Sl,[u("input",{ref_key:"selectedAll",ref:a,type:"checkbox",onClick:e[0]||(e[0]=X(n=>m("selectAll",n.target.checked),["stop"]))},null,512),u("div",null,[E(Be,{class:"check"}),E(Cl,{class:"intermediate"})])])],2)):F("",!0),(r(!0),s(B,null,P(f.all.columns,(n,v)=>(r(),s(B,null,[n.hide?F("",!0):(r(),s("th",{key:n.field,class:p(["bh-select-none bh-z-[1]",[f.all.sortable&&n.sort?"bh-cursor-pointer":"",v===0&&f.all.stickyFirstColumn?"bh-sticky bh-left-0 bh-bg-blue-light":"",f.all.hasCheckbox&&v===0&&f.all.stickyFirstColumn?"bh-left-[52px]":""]]),style:Me({width:n.width,"min-width":n.minWidth,"max-width":n.maxWidth})},[u("div",{class:p(["bh-flex bh-items-center",[n.headerClass?n.headerClass:""]]),onClick:h=>f.all.sortable&&n.sort&&m("sortChange",n.field)},[qe(w(n.title)+" ",1),f.all.sortable&&n.sort?(r(),s("span",{key:0,class:p(["bh-ml-3 bh-sort bh-flex bh-items-center",[f.currentSortColumn,f.currentSortDirection]])},[(r(),s("svg",Ml,[u("polygon",{points:"3.11,6.25 10.89,6.25 7,1.75 ",fill:"currentColor",class:p(["bh-text-black/20",[k.currentSortColumn===n.field&&k.currentSortDirection==="asc"?"!bh-text-primary":""]])},null,2),u("polygon",{points:"7,12.25 10.89,7.75 3.11,7.75 ",fill:"currentColor",class:p(["bh-text-black/20",[k.currentSortColumn===n.field&&k.currentSortDirection==="desc"?"!bh-text-primary":""]])},null,2)]))],2)):F("",!0)],10,ql),f.all.columnFilter&&!f.isFooter?(r(),s(B,{key:0},[n.filter?(r(),s("div",Bl,[n.type==="string"?z((r(),s("input",{key:0,"onUpdate:modelValue":h=>n.value=h,type:"text",class:"bh-form-control",onKeyup:e[1]||(e[1]=h=>m("filterChange"))},null,40,Al)),[[ue,n.value,void 0,{trim:!0}]]):F("",!0),n.type==="number"?z((r(),s("input",{key:1,"onUpdate:modelValue":h=>n.value=h,type:"number",class:"bh-form-control",onKeyup:e[2]||(e[2]=h=>m("filterChange"))},null,40,zl)),[[ue,n.value,void 0,{number:!0,trim:!0}]]):n.type==="date"?z((r(),s("input",{key:2,"onUpdate:modelValue":h=>n.value=h,type:"date",class:"bh-form-control",onChange:e[3]||(e[3]=h=>m("filterChange"))},null,40,Nl)),[[ue,n.value]]):n.type==="bool"?z((r(),s("select",{key:3,"onUpdate:modelValue":h=>n.value=h,class:"bh-form-control",onChange:e[4]||(e[4]=h=>m("filterChange")),onClick:e[5]||(e[5]=h=>f.isOpenFilter=null)},e[8]||(e[8]=[u("option",{value:void 0},"All",-1),u("option",{value:!0},"True",-1),u("option",{value:!1},"False",-1)]),40,Dl)),[[ce,n.value]]):F("",!0),n.type!=="bool"?(r(),s("button",{key:4,type:"button",onClick:X(h=>m("toggleFilterMenu",n),["stop"])},[E(Ll,{class:"bh-w-4"})],8,Rl)):F("",!0),z(E(pl,{column:n,type:n.type,columnFilterLang:f.columnFilterLang,onClose:e[6]||(e[6]=h=>m("toggleFilterMenu",null)),onFilterChange:e[7]||(e[7]=h=>m("filterChange"))},null,8,["column","type","columnFilterLang"]),[[Ke,f.isOpenFilter===n.field]])])):F("",!0)],64)):F("",!0)],6))],64))),256))]))}}),Vl={},$l={width:"84",height:"84",viewBox:"0 0 24 24",class:"bh-loader bh-text-primary"};function Ol(k,C){return r(),s("svg",$l,C[0]||(C[0]=[Ze('<circle cx="18" cy="12" r="0" fill="currentColor"><animate attributeName="r" begin=".67" calcMode="spline" dur="1.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" repeatCount="indefinite" values="0;2;0;0"></animate></circle><circle cx="12" cy="12" r="0" fill="currentColor"><animate attributeName="r" begin=".33" calcMode="spline" dur="1.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" repeatCount="indefinite" values="0;2;0;0"></animate></circle><circle cx="6" cy="12" r="0" fill="currentColor"><animate attributeName="r" begin="0" calcMode="spline" dur="1.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" repeatCount="indefinite" values="0;2;0;0"></animate></circle>',3)]))}const Hl=ie(Vl,[["render",Ol]]),Ul={class:"bh-datatable bh-antialiased bh-relative bh-text-black bh-text-sm bh-font-normal"},Tl=["onClick"],El={class:"bh-checkbox"},Pl=["value"],Il=["innerHTML"],Wl={key:1},Gl=["colspan"],jl=["colspan"],Kl={key:0,class:"bh-absolute bh-inset-0 bh-bg-blue-light/50 bh-grid bh-place-content-center"},Jl={class:"bh-flex bh-items-center bh-flex-wrap bh-flex-col sm:bh-flex-row bh-gap-4"},Zl={class:"bh-pagination-info bh-flex bh-items-center"},Ql={class:"bh-mr-2"},Yl=["value"],Xl={class:"bh-pagination-number sm:bh-ml-auto bh-inline-flex bh-items-center bh-space-x-1"},et=["innerHTML"],lt={key:1,"aria-hidden":"true",width:"14",height:"14",viewBox:"0 0 16 16"},tt=["innerHTML"],ot={key:1,"aria-hidden":"true",width:"14",height:"14",viewBox:"0 0 16 16"},at=["onClick"],nt=["innerHTML"],ut={key:1,"aria-hidden":"true",width:"14",height:"14",viewBox:"0 0 16 16"},it=["innerHTML"],rt={key:1,"aria-hidden":"true",width:"14",height:"14",viewBox:"0 0 16 16"},st=de({__name:"custom-table",props:{loading:{type:Boolean,default:!1},isServerMode:{type:Boolean,default:!1},skin:{default:"bh-table-striped bh-table-hover"},totalRows:{default:0},rows:{default:()=>[]},columns:{default:()=>[]},hasCheckbox:{type:Boolean,default:!1},search:{default:""},columnChooser:{type:Boolean,default:!1},page:{default:1},pageSize:{default:10},pageSizeOptions:{default:()=>[10,20,30,50,100]},showPageSize:{type:Boolean,default:!0},rowClass:{default:[]},cellClass:{default:[]},sortable:{type:Boolean,default:!1},sortColumn:{default:"id"},sortDirection:{default:"asc"},columnFilter:{type:Boolean,default:!1},columnFilterLang:{default:null},pagination:{type:Boolean,default:!0},showNumbers:{type:Boolean,default:!0},showNumbersCount:{default:5},showFirstPage:{type:Boolean,default:!0},showLastPage:{type:Boolean,default:!0},firstArrow:{default:""},lastArrow:{default:""},nextArrow:{default:""},previousArrow:{default:""},paginationInfo:{default:"Showing {0} to {1} of {2} entries"},noDataContent:{default:"No data available"},stickyHeader:{type:Boolean,default:!1},height:{default:"500px"},stickyFirstColumn:{type:Boolean,default:!1},cloneHeaderInFooter:{type:Boolean,default:!1},selectRowOnClick:{type:Boolean,default:!1}},emits:["change","sortChange","searchChange","pageChange","pageSizeChange","rowSelect","filterChange","rowClick","rowDBClick"],setup(k,{expose:C,emit:a}){var f,m;const b=Ge(),e=k;for(const l of e.columns||[]){const t=((f=l.type)==null?void 0:f.toLowerCase())||"string";l.type=t,l.isUnique=l.isUnique!==void 0?l.isUnique:!1,l.hide=l.hide!==void 0?l.hide:!1,l.filter=l.filter!==void 0?l.filter:!0,l.search=l.search!==void 0?l.search:!0,l.sort=l.sort!==void 0?l.sort:!0,l.html=l.html!==void 0?l.html:!1,l.condition=t==="string"?"contain":"equal"}const n=M([]),v=M(e.page),h=M(e.pagination?e.pageSize:(m=e.rows)==null?void 0:m.length),I=e.pageSize,S=M(e.sortColumn),W=e.sortColumn,N=M(e.sortDirection),ee=e.sortDirection,q=M(e.totalRows),x=M([]),G=M(null),D=M(e.loading),R=M(e.search),le=JSON.parse(JSON.stringify(e.columns)),V=M(null),Z=M(null);let H=M(0);const te=M(230);xe(()=>{$()});const A=a;C({reset(){Oe()},getSelectedRows(){return He()},getColumnFilters(){return Ue()},clearSelectedRows(){return Te()},selectRow(l){ye(l)},unselectRow(l){ke(l)},isRowSelected(l){return ne(l)},getFilteredRows(){return pe()},getVisibleRows(){return Ee()}});const oe=(l,...t)=>l.replace(/{(\d+)}/g,(d,i)=>typeof t[i]<"u"?t[i]:d),g=Y(()=>{const l=e.columns.find(t=>t.isUnique);return(l==null?void 0:l.field)||null}),U=Y(()=>{const l=h.value<1?1:Math.ceil(q.value/h.value);return Math.max(l||0,1)}),ve=Y(()=>(v.value-1)*h.value+1),he=Y(()=>{const l=v.value*h.value;return q.value>=l?l:q.value}),Ae=Y(()=>{let l,t;return typeof e.showNumbersCount<"u"&&e.showNumbersCount<U.value?(l=Math.max(v.value-Math.floor(e.showNumbersCount/2),1),t=l+e.showNumbersCount-1,t>U.value&&(t=U.value,l=t-e.showNumbersCount+1)):(l=1,t=U.value),Array.from(Array(t+1-l).keys()).map(d=>l+d)}),pe=()=>{var l,t,d;let i=e.rows||[];if(!e.isServerMode){if(e.columnFilter&&((l=e.columns)==null||l.forEach(o=>{o.filter&&(o.value!==void 0&&o.value!==null&&o.value!==""||o.condition==="is_null"||o.condition=="is_not_null")&&(o.type==="string"?(o.value&&!o.condition&&(o.condition="contain"),o.condition==="contain"?i=i.filter(c=>{var _;return(_=y(c,o.field))==null?void 0:_.toString().toLowerCase().includes(o.value.toLowerCase())}):o.condition==="not_contain"?i=i.filter(c=>{var _;return!((_=y(c,o.field))!=null&&_.toString().toLowerCase().includes(o.value.toLowerCase()))}):o.condition==="equal"?i=i.filter(c=>{var _;return((_=y(c,o.field))==null?void 0:_.toString().toLowerCase())===o.value.toLowerCase()}):o.condition==="not_equal"?i=i.filter(c=>{var _;return((_=y(c,o.field))==null?void 0:_.toString().toLowerCase())!==o.value.toLowerCase()}):o.condition=="start_with"?i=i.filter(c=>{var _;return((_=y(c,o.field))==null?void 0:_.toString().toLowerCase().indexOf(o.value.toLowerCase()))===0}):o.condition=="end_with"&&(i=i.filter(c=>{var _;return((_=y(c,o.field))==null?void 0:_.toString().toLowerCase().substr(o.value.length*-1))===o.value.toLowerCase()}))):o.type==="number"?(o.value&&!o.condition&&(o.condition="equal"),o.condition==="equal"?i=i.filter(c=>y(c,o.field)&&parseFloat(y(c,o.field))===parseFloat(o.value)):o.condition==="not_equal"?i=i.filter(c=>y(c,o.field)&&parseFloat(y(c,o.field))!==parseFloat(o.value)):o.condition==="greater_than"?i=i.filter(c=>y(c,o.field)&&parseFloat(y(c,o.field))>parseFloat(o.value)):o.condition==="greater_than_equal"?i=i.filter(c=>y(c,o.field)&&parseFloat(y(c,o.field))>=parseFloat(o.value)):o.condition==="less_than"?i=i.filter(c=>y(c,o.field)&&parseFloat(y(c,o.field))<parseFloat(o.value)):o.condition==="less_than_equal"&&(i=i.filter(c=>y(c,o.field)&&parseFloat(y(c,o.field))<=parseFloat(o.value)))):o.type==="date"?(o.value&&!o.condition&&(o.condition="equal"),o.condition==="equal"?i=i.filter(c=>y(c,o.field)&&ae(y(c,o.field))===o.value):o.condition==="not_equal"?i=i.filter(c=>y(c,o.field)&&ae(y(c,o.field))!==o.value):o.condition==="greater_than"?i=i.filter(c=>y(c,o.field)&&ae(y(c,o.field))>o.value):o.condition==="less_than"&&(i=i.filter(c=>y(c,o.field)&&ae(y(c,o.field))<o.value))):o.type==="bool"&&(i=i.filter(c=>y(c,o.field)===o.value)),o.condition==="is_null"?(i=i.filter(c=>y(c,o.field)==null||y(c,o.field)==""),o.value=""):o.condition==="is_not_null"&&(o.value="",i=i.filter(c=>y(c,o.field))))})),R.value&&(i==null?void 0:i.length)){let o=[];const c=(e.columns||[]).filter(_=>_.search&&!_.hide).map(_=>_.field);for(var L=0;L<(i==null?void 0:i.length);L++)for(var K=0;K<c.length;K++)if((t=y(i[L],c[K]))!=null&&t.toString().toLowerCase().includes(R.value.toLowerCase())){o.push(i[L]);break}i=o}if(e.sortable){var Pe=new Intl.Collator(void 0,{numeric:((d=e.columns.find(c=>c.field==S.value))==null?void 0:d.type)==="number",sensitivity:"base"});const o=N.value==="desc"?-1:1;i.sort((c,_)=>{var Ce,we;const Ie=(Ce=S.value)==null?void 0:Ce.split(".").reduce((Q,re)=>Q==null?void 0:Q[re],c),We=(we=S.value)==null?void 0:we.split(".").reduce((Q,re)=>Q==null?void 0:Q[re],_);return Pe.compare(Ie,We)*o})}}return i},$=()=>{let l=[],t=pe();return e.isServerMode?(q.value=e.totalRows||0,l=t):(q.value=(t==null?void 0:t.length)||0,l=t.slice(ve.value-1,he.value)),n.value=l||[],l};T(()=>e.loading,()=>{D.value=e.loading});const fe=l=>{l?V.value===l.field?V.value=null:V.value=l.field:V.value=null},ze=()=>{if(v.value==1)return!1;v.value--},Ne=l=>{v.value=l},De=()=>{if(v.value>=U.value)return!1;v.value++};T(()=>v.value,()=>{O(!1),e.isServerMode?j("page"):($(),A("pageChange",v.value))}),T(()=>e.page,l=>{v.value=l}),T(()=>e.rows,()=>{O(!1),$()}),T(()=>h.value,()=>{O(!1),e.isServerMode?v.value===1?j("pagesize",!0):v.value=1:(v.value=1,$(),A("pageSizeChange",h.value))});const me=l=>{let t="asc";l==S.value&&N.value==="asc"&&(t="desc");let d=(v.value-1)*h.value,i=h.value;S.value=l,N.value=t,O(!1),$(),e.isServerMode?j("sort"):A("sortChange",{offset:d,limit:i,field:l,direction:t})},be=l=>{G.value=l.length&&n.value.length&&l.length===n.value.length;const t=n.value.filter((d,i)=>x.value.includes(g.value?d[g.value]:i));A("rowSelect",t)};T(()=>x.value,be);const O=l=>{l?x.value=n.value.map((t,d)=>g.value?t[g.value]:d):x.value=[]},ge=()=>{O(!1),e.isServerMode?v.value===1?j("filter",!0):v.value=1:(v.value=1,$(),A("filterChange",e.columns))},Re=()=>{O(!1),e.isServerMode?v.value===1?j("search",!0):v.value=1:(v.value=1,$(),A("searchChange",R.value))};T(()=>e.search,()=>{R.value=e.search,Re()});const y=(l,t)=>t==null?void 0:t.split(".").reduce((d,i)=>d==null?void 0:d[i],l),ae=l=>{try{if(!l)return"";const t=new Date(l),d=t.getDate(),i=t.getMonth()+1;return t.getFullYear()+"-"+(i>9?i:"0"+i)+"-"+(d>9?d:"0"+d)}catch{}return""},Ve=(l,t)=>{H.value++,H.value===1?Z.value=setTimeout(()=>{H.value=0,e.selectRowOnClick&&(ne(t)?ke(t):ye(t),be(x.value)),A("rowClick",l)},te.value):H.value===2&&(clearTimeout(Z.value),H.value=0,A("rowDBClick",l))},j=(l,t=!1)=>{if(e.isServerMode){$e();const d={current_page:t?1:v.value,pagesize:h.value,offset:(v.value-1)*h.value,sort_column:S.value,sort_direction:N.value,search:R.value,column_filters:e.columns,change_type:l};A("change",d)}},$e=()=>{for(let l=0;l<e.columns.length;l++){let t=e.columns[l];t.filter&&(t.value!==void 0&&t.value!==null&&t.value!==""||t.condition==="is_null"||t.condition==="is_not_null")&&(t.type==="string"&&t.value&&!t.condition&&(t.condition="contain"),t.type==="number"&&t.value&&!t.condition&&(t.condition="equal"),t.type==="date"&&t.value&&!t.condition&&(t.condition="equal"))}},Oe=()=>{O(!1);for(let l=0;l<e.columns.length;l++)e.columns[l]=le[l];R.value="",h.value=I,S.value=W,N.value=ee,e.isServerMode?v.value===1?j("reset",!0):v.value=1:(v.value=1,$())},He=()=>n.value.filter((l,t)=>x.value.includes(g.value?l[g.value]:t)),Ue=()=>e.columns,Te=()=>{x.value=[]},ye=l=>{if(!ne(l)){const t=n.value.find((d,i)=>i===l);x.value.push(g.value?t[g.value]:l)}},ke=l=>{if(ne(l)){const t=n.value.find((d,i)=>i===l);x.value=x.value.filter(d=>d!==(g.value?t[g.value]:l))}},ne=l=>{const t=n.value.find((d,i)=>i===l);return t?x.value.includes(g.value?t[g.value]:l):!1},Ee=()=>$();return(l,t)=>(r(),s("div",Ul,[u("div",{class:p(["bh-table-responsive",{"bh-min-h-[300px]":D.value}]),style:Me({height:e.stickyHeader&&e.height})},[u("table",{class:p([e.skin])},[u("thead",{class:p({"bh-sticky bh-top-0 bh-z-10":e.stickyHeader})},[E(Fe,{all:e,currentSortColumn:S.value,currentSortDirection:N.value,isOpenFilter:V.value,checkAll:G.value,columnFilterLang:e.columnFilterLang,onSelectAll:O,onSortChange:me,onFilterChange:ge,onToggleFilterMenu:fe},null,8,["currentSortColumn","currentSortDirection","isOpenFilter","checkAll","columnFilterLang"])],2),u("tbody",null,[q.value?(r(!0),s(B,{key:0},P(n.value,(d,i)=>(r(),s("tr",{key:d[g.value]?d[g.value]:i,class:p([typeof e.rowClass=="function"?l.rowClass(d):e.rowClass,e.selectRowOnClick?"bh-cursor-pointer":""]),onClick:X(L=>Ve(d,i),["prevent"])},[e.hasCheckbox?(r(),s("td",{key:0,class:p({"bh-sticky bh-left-0 bh-bg-blue-light":e.stickyFirstColumn})},[u("div",El,[z(u("input",{"onUpdate:modelValue":t[0]||(t[0]=L=>x.value=L),type:"checkbox",value:d[g.value]?d[g.value]:i,onClick:t[1]||(t[1]=X(()=>{},["stop"]))},null,8,Pl),[[je,x.value]]),u("div",null,[E(Be,{class:"check"})])])],2)):F("",!0),(r(!0),s(B,null,P(e.columns,(L,K)=>(r(),s(B,null,[L.hide?F("",!0):(r(),s("td",{key:L.field,class:p([typeof e.cellClass=="function"?l.cellClass(d):e.cellClass,K===0&&e.stickyFirstColumn?"bh-sticky bh-left-0 bh-bg-blue-light":"",e.hasCheckbox&&K===0&&e.stickyFirstColumn?"bh-left-[52px]":"",L.cellClass?L.cellClass:""])},[Se(b)[L.field]?Le(l.$slots,L.field,{key:0,value:d}):L.cellRenderer?(r(),s("div",{key:1,innerHTML:L.cellRenderer(d)},null,8,Il)):(r(),s(B,{key:2},[qe(w(y(d,L.field)),1)],64))],2))],64))),256))],10,Tl))),128)):F("",!0),!q.value&&!D.value?(r(),s("tr",Wl,[u("td",{colspan:e.columns.length+1},w(e.noDataContent),9,Gl)])):F("",!0),!q.value&&D.value?(r(!0),s(B,{key:2},P(e.pageSize,d=>(r(),s("tr",{key:d,class:"!bh-bg-white bh-h-11 !bh-border-transparent"},[u("td",{colspan:e.columns.length+1,class:"!bh-p-0 !bh-border-transparent"},t[5]||(t[5]=[u("div",{class:"bh-skeleton-box bh-h-8"},null,-1)]),8,jl)]))),128)):F("",!0)]),e.cloneHeaderInFooter?(r(),s("tfoot",{key:0,class:p({"bh-sticky bh-bottom-0":e.stickyHeader})},[E(Fe,{all:e,currentSortColumn:S.value,currentSortDirection:N.value,isOpenFilter:V.value,isFooter:!0,checkAll:G.value,onSelectAll:O,onSortChange:me,onFilterChange:ge,onToggleFilterMenu:fe},null,8,["currentSortColumn","currentSortDirection","isOpenFilter","checkAll"])],2)):F("",!0)],2),q.value&&D.value?(r(),s("div",Kl,[E(Hl)])):F("",!0)],6),e.pagination&&q.value?(r(),s("div",{key:0,class:p(["bh-pagination bh-py-5",{"bh-pointer-events-none":D.value}])},[u("div",Jl,[u("div",Zl,[u("span",Ql,w(oe(e.paginationInfo,q.value?ve.value:0,he.value,q.value)),1),e.showPageSize?z((r(),s("select",{key:0,"onUpdate:modelValue":t[2]||(t[2]=d=>h.value=d),class:"bh-pagesize"},[(r(!0),s(B,null,P(e.pageSizeOptions,d=>(r(),s("option",{value:d,key:d},w(d),9,Yl))),128))],512)),[[ce,h.value]]):F("",!0)]),u("div",Xl,[e.showFirstPage?(r(),s("button",{key:0,type:"button",class:p(["bh-page-item first-page",{disabled:v.value<=1}]),onClick:t[3]||(t[3]=d=>v.value=1)},[e.firstArrow?(r(),s("span",{key:0,innerHTML:e.firstArrow},null,8,et)):(r(),s("svg",lt,t[6]||(t[6]=[u("g",{fill:"currentColor","fill-rule":"evenodd"},[u("path",{d:"M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"}),u("path",{d:"M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"})],-1)])))],2)):F("",!0),u("button",{type:"button",class:p(["bh-page-item previous-page",{disabled:v.value<=1}]),onClick:ze},[e.previousArrow?(r(),s("span",{key:0,innerHTML:e.previousArrow},null,8,tt)):(r(),s("svg",ot,t[7]||(t[7]=[u("path",{fill:"currentColor","fill-rule":"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"},null,-1)])))],2),e.showNumbers?(r(!0),s(B,{key:1},P(Ae.value,d=>(r(),s("button",{key:d,type:"button",class:p(["bh-page-item",{disabled:v.value===d,"bh-active":d===v.value}]),onClick:i=>Ne(d)},w(d),11,at))),128)):F("",!0),u("button",{type:"button",class:p(["bh-page-item next-page",{disabled:v.value>=U.value}]),onClick:De},[e.nextArrow?(r(),s("span",{key:0,innerHTML:e.nextArrow},null,8,nt)):(r(),s("svg",ut,t[8]||(t[8]=[u("path",{fill:"currentColor","fill-rule":"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8L4.646 2.354a.5.5 0 0 1 0-.708z"},null,-1)])))],2),e.showLastPage?(r(),s("button",{key:2,type:"button",class:p(["bh-page-item last-page",{disabled:v.value>=U.value}]),onClick:t[4]||(t[4]=d=>v.value=U.value)},[e.lastArrow?(r(),s("span",{key:0,innerHTML:e.lastArrow},null,8,it)):(r(),s("svg",rt,t[9]||(t[9]=[u("g",{fill:"currentColor","fill-rule":"evenodd"},[u("path",{d:"M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8L3.646 2.354a.5.5 0 0 1 0-.708z"}),u("path",{d:"M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8L7.646 2.354a.5.5 0 0 1 0-.708z"})],-1)])))],2)):F("",!0)])])],2)):F("",!0)]))}}),ct={class:"flex gap-4"},dt=["onClick"],vt=["onClick"],bt={__name:"DataTableComponent",props:{rows:{},rowsModifiers:{},cols:{},colsModifiers:{},loading:{},loadingModifiers:{},route:{},routeModifiers:{}},emits:se("delete_",["update:rows","update:cols","update:loading","update:route"]),setup(k,{emit:C}){const a=J(k,"rows"),f=J(k,"cols"),m=J(k,"loading"),b=J(k,"route"),e=C;function n(h){e("delete_",h)}function v(h){Xe().push(`${b.value}/${h}`)}return(h,I)=>(r(),Qe(Se(st),{rows:a.value,columns:f.value,loading:m.value,sortable:!0,columnFilter:!0},{actions:Ye(S=>[u("div",ct,[u("button",{type:"button",class:"btn btn-success !py-1",onClick:W=>v(S.id)}," Ver Mais! ",8,dt),u("button",{type:"button",class:"btn btn-danger !py-1",onClick:W=>n(S.id)}," Excluir ",8,vt)])]),_:1},8,["rows","columns","loading"]))}};export{pt as _,ft as a,bt as b,mt as c};
